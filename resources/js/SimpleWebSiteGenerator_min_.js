/* 
 *
 * Copyright (C) Joffer Systems, Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Alok Dethe <det.alex0110@gmail.com>, September 2019
 *
 *
 *
 */
!function(e,t){"use strict";if(!t)throw new Error("jQuery not loaded");let l=["S1"],o="S1",n=["D"];let i=!0,r="",a="",c="",s="",g=!1,d=!0,u="",p="",f="",m="",_=t("#handlerSelId"),h=t("#leftHandlerSelId"),b=function(e){let l=e.lastIndexOf("_");"_PID"!==e.substring(l)&&"_DEL"!==e.substring(l)&&(t("#"+e).resizable({start:function(e,t){}}),t("#"+e).draggable({containment:".parent_"+e,scroll:!1,start:function(e,l){var o=e.target;console.log("======");var n=t(o).position();t(o).css("margin-top","0"),t(o).css("margin-left","0"),t(o).css("margin-right","0"),console.log(" 1 "+n.top+" 2 "+n.left+" 3 "+n.right)},stop:function(e,l){var o=e.target;console.log("======");var n=t(o).position();t(o).css("margin-top","0"),t(o).css("margin-left","0"),t(o).css("margin-right","0"),console.log(" 1 - "+n.top+" 2 - "+n.left+" 3 "+n.right)}}))},v=function(e){var l=O(e);"H"===l?b(e):"LB"===l?b(e):"TXT"===l?b(e):"FBTXT"===l?b(e):"LO"===l&&b(e),t("#"+e).removeClass("ui-widget-content")},I=function(e){let l="doc_"+e.target.id+".html";t.get("http://127.0.0.1/"+l,function(e,l){u=e,"success"===l?(console.log(JSON.stringify(u)),t("#mainContainerId").append(u)):alert("Request To Server Failed")})};t.setCurrentDialogId=function(e){var l=e.getAttribute("id"),o=t.removeDialogFromId(l);p=o},t.setDeleteDialogId=function(e){var l=e.getAttribute("id"),o=t.removeDialogFromId(l);f=o},t.assignFontColor=function(e){var l="#"+e.toString();console.log(p),t("#"+p).css("color",""+l)},t.removeDialogFromId=function(e){var t=e.indexOf("_");return e=e.substring(t+1),console.log(" ====> "+e),e},t.assignBackHeightMax=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),c=r.substring(0,a);c=parseInt(c),c+=2,i.css("height",c+"px")},t.assignBackHeightMin=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),c=r.substring(0,a);c=parseInt(c),c-=2,i.css("height",c+"px")},t.assignBackWidthMax=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("max-width"),a=r.indexOf("%"),c=r.substring(0,a);c=parseInt(c),(c+=2)<=100&&i.css("max-width",c+"%")},t.assignDeleteFunc=function(e,l){let o="";"img"===l?o=e.parentElement:"txt"===l&&(o=e.parentElement.parentElement.parentElement);let n=o.getAttribute("id");t("#"+n).dialog("close");let i=n.substr(n.indexOf("_")+1);t("#"+i).remove()},t.assignBackWidthMin=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("max-width");console.log(" ==> 2 "+r);let a=r.indexOf("%"),c=r.substring(0,a);c=parseInt(c),c-=2,i.css("max-width",c+"%")},t.setTextDescription=function(e){let l=e.parentElement.parentElement.getAttribute("id");console.log("eleId "+l);let o=t(e).val(),n=t.removeDialogFromId(l);console.log("===> change text "+n+" "+o),t("#"+n+"_PID").empty(),t("#"+n+"_PID").append(""+o)};let x=function(e){console.log("=============="),console.log(e);var l=t("#"+e).css("left"),o=t("#"+e).css("width");l=l.substring(0,l.length-2),o=o.substring(0,o.length-2);parseInt(l),parseInt(o);t("#dialog_"+e).dialog({position:{my:"left top",at:"right",of:"#"+e},close:function(l,o){console.log("before close function!"+l.target.getAttribute("id")+" "+e),l.target.setAttribute("id",""),t(l.target).css("display","none"),v(e)}})};function O(e){return e=(e=e.substr(e.indexOf("_"))).substring(1),console.log("finally inside getCode ===> "+e),e.substring(0,e.indexOf("_"))}t.registerCustomizationBox=function(e){let t=O(e);console.log("codeHold "+t),"H"===t?x(e):"LO"===t?x(e):"TXT"===t?x(e):"FBTXT"===t?x(e):"RO"===t?(alert(" Few More Change's "),x(e)):"DEL"===t&&x(e)},t.getSamp=function(e,t){"sam0"===t?(alert("get Blank"),window.location.replace("blank.html")):"sam1"===t?(alert("get Template#1"),window.location.replace("Generator.html")):"sam2"===t?(alert("get Template#2"),window.location.replace("Template2.html")):"sam3"===t&&(alert("get Template#3"),window.location.replace("Template3.html"))},t.setDialog=function(e,l){console.log("this ele "+e),console.log(" reponse box ==> "+JSON.stringify(l)+" "+e+" "),t(e).click(function(o){if(o.stopPropagation(),"txt"===l){let l=t(".dialog_text");if(""===l.attr("id")){let o=t(e).attr("id");console.log("ele id => "+o);let n="dialog_"+o;l.attr("id",""+n),console.log("ele dia id => "+n),m=n,t.registerCustomizationBox(o),l.css("display","")}}else if("img"===l){let l=t(".dialog_image");if(""===l.attr("id")){let o=t(e).attr("id"),n="dialog_"+o;l.attr("id",""+n),m=n,t.registerCustomizationBox(o),l.css("display","")}}else if("del"===l){let l=t(".dialog_delete");if(""===l.attr("id")){let o=t(e).attr("id");alert(" =====> "+o);let n="dialog_"+o;l.attr("id",""+n),m=n,t.registerCustomizationBox(o),l.css("display","")}}})},t.SimpleWebSiteGenerator=function(){_.click(function(){i?(t("#drag_img_tp_1_dup").attr("style","display: block"),t("#drag_img_tp_2_dup").attr("style","display: block"),t("#panelSelId").animate({width:"40%"}),t("#innerPanelSelId").animate({width:"82%"}),i=!1):i||(t("#drag_img_tp_1_dup").attr("style","display: none"),t("#drag_img_tp_2_dup").attr("style","display: none"),t("#panelSelId").animate({width:"5%"}),t("#innerPanelSelId").animate({width:"1%"}),i=!0)}),h.click(function(){d?(t("#leftColorPanelSelId").animate({width:"25%"}),t("#leftInnerColorPanelSelId").animate({width:"82%"}),d=!1):d||(t("#leftColorPanelSelId").animate({width:"5%"}),t("#leftInnerColorPanelSelId").animate({width:"1%"}),d=!0)}),function(){for(var e=0;0!==t("#sampText"+(e+=1)).length;)t("#sampText"+e).click(I)}(),t("#header-id").draggable({helper:"clone",cursorAt:{top:4,left:10},containment:"#big-cont",scroll:!1,start:function(){defaults.recentElement=t(this).attr("id")},stop:function(){},revert:"invalid"});let e=function(e){return e.search(/\bcol-lg-1\b/)>=0?"col-lg-1":e.search(/\bcol-lg-2\b/)>=0?"col-lg-2":e.search(/\bcol-lg-3\b/)>=0?"col-lg-3":e.search(/\bcol-lg-4\b/)>=0?"col-lg-4":e.search(/\bcol-lg-5\b/)>=0?"col-lg-5":e.search(/\bcol-lg-6\b/)>=0?"col-lg-6":e.search(/\bcol-lg-7\b/)>=0?"col-lg-7":e.search(/\bcol-lg-8\b/)>=0?"col-lg-8":e.search(/\bcol-lg-9\b/)>=0?"col-lg-9":e.search(/\bcol-lg-10\b/)>=0?"col-lg-10":e.search(/\bcol-lg-11\b/)>=0?"col-lg-11":e.search(/\bcol-lg-12\b/)>=0?"col-lg-12":void 0};t("#drag_img_tp_1").dblclick(function(){console.log("Handler for .dblclick() called."),g=!0}),t("#drag_img_tp_2").dblclick(function(){console.log("Handler for .dblclick() called."),g=!0});let u=function(e){var l="";"LO"===e?l=t("[id^="+o+"_"+e+"_]"):"TXT"===e&&(l=t("[id^="+o+"_"+e+"_]")),console.log(" ***** check calculateRecentIdForImage ***** "+o+"_"+e),console.log(l);var n,i,r=0,a=0,c="",s="";return t.each(l,function(e,l){if(c=t(l).attr("id"),"PID"!==(s=c.substr(c.length-3)))for(console.log("**** check PID ****"),console.log(s),n=c.lastIndexOf("_"),n-=1;"_"!==c.charAt(n);)r=parseInt(c.charAt(n)),a<r&&(a=r),n-=1,console.log("**** check cnt set ****"),console.log(a)}),i=o+"_"+e+"_"+(a+1)+"_ID",console.log(i),i};t(".dropElem").droppable({accept:"#drag_img_tp_1_dup, #drag_img_tp_2_dup",drop:function(l,o){var n=t("#"+r).children().get(0),i=t(""+c).html();if(console.log("******** Droppable elem space ******** "+i),console.log(r),t("#"+r).children().length<12){var d=n.getAttribute("class");console.log("check the clazz ===> "+d+" "+e(d));var p=e(d),f=p.lastIndexOf("-");console.log("******** Calculate layout ********"),console.log(f);var m=p.substring(parseInt(f)+1);if(p=p.substring(0,parseInt(f)),console.log("****** calculated lay ******"),console.log(p),console.log("****** calculated num ****** 1"),console.log(m),12%parseInt(m)==0){console.log("****** calculated num even ****** ");var _=function(e){var t=parseInt(e)-1;if(0===t)return e;for(var l=0,o=t;o>=1;o--)if(12%o==0){l=o;break}return l}(parseInt(m)),h=t("#"+r).children();if((h.length+1)*_!=12){var v=_;for(console.log("********* check here fin ********** 1"),console.log(_+" "+h.length+" "+v);(h.length+1)*v<12;)v+=1;console.log("********* check here fin ********** 3"),console.log(_+" "+h.length+" "+v),(h.length+1)*v==12&&(_=v),console.log("********* check here fin ********** 2"),console.log(_)}if(console.log(h),!0===g&&""!==a&&"img"===s){g=!1,c="";var I=t.parseHTML(i),x=u("LO");t(I).attr("class","TEMP_BOX COL_DRAG"),t(I).attr("id",""+x),t(I).attr("onclick","$.setDialog(this, 'img')"),i=I,t("#"+a).append(i),b(x)}else if(!0===g&&""!==a&&"txt"===s){g=!1,c="",I=t.parseHTML(i);var O=u("TXT");t(I).attr("class","TEMP_BOX COL_DRAG"),t(I).attr("id",""+O),t(I).children().get(0).setAttribute("id",O+"_PID"),t(I).attr("onclick","$.setDialog(this, 'txt')"),i=I,t("#"+a).append(i),b(O)}else{g=!1,c="",t("#"+r).append(i),h=t("#"+r).children();for(var A=0,C=0;C<h.length;C++){for(var T=h.get(C),D=1;D<=12;D++)t(T).removeClass("col-lg-"+D);t(T).addClass("col-lg-"+_),A+=_}if(console.log("******* below complete *******"),console.log(A),A<12){var w=12-(A-1);for(T=h.get(h.length-1),D=1;D<=12;D++)t(T).removeClass("col-lg-"+D);t(T).addClass("col-lg-"+w)}}}}console.log("Elem Droppable")}});let p=function(e){var l=e.currentTarget.getAttribute("id"),o=l.lastIndexOf("_"),n=l.substring(parseInt(o)+1);console.log("************ eve ************** 1"),console.log("==>"+n+" ==> 1"+l),e.type="mousedown.draggable";var i=e.pageX,r=e.pageY;e.target=document.getElementById("drag_img_tp_"+n+"_dup");var a=document.getElementById("drag_img_tp_1_dup");console.log("==222 drag_img_tp_"+n),console.log(a),console.log("************ eve **************"),console.log("==>"+n+" ==> "+l+" x "+i+" y "+r),c="#drag_img_tp_"+n+"_dup","1"===n?s="img":"2"===n&&(s="txt"),t("#drag_img_tp_"+n).focus(),t("#drag_img_tp_"+n+"_dup").trigger(e)};!function(){for(var e=1;0!=t(".mover_"+e).length;)t(".mover_"+e).mouseover(function(e){var l=e.currentTarget.getAttribute("id");r=l,console.log("******** this is the elem that is calculated ******** "+l),console.log("executed mover"),t("#"+l).children(".COL_DRAG").each(function(e,l){t(l).removeClass("COL_DRAG"),t(l).addClass("COL_DRAG_R"),a=t(l).attr("id"),console.log("**** finalChildElem ****"),console.log(a)})}),t(".mover_"+e).mouseout(function(e){var l=e.currentTarget.getAttribute("id"),o=t("#"+l).children(".COL_DRAG_R");console.log("executed mout"),t("#drag_img_tp_1").removeAttr("tabindex"),o.each(function(e,l){t(l).removeClass("COL_DRAG_R"),t(l).addClass("COL_DRAG")})}),e++}();!function(){for(var e=1;e<=2;e++)alert(" => "+e),t("#drag_img_tp_"+e).mouseup(function(e){}),t("#drag_img_tp_"+e+"_dup").draggable({helper:"clone",cursorAt:{top:1,left:1},containment:"#mainContainerId",scroll:!0,start:function(){console.log("reached here at start "+t(this).attr("id")),console.log(t.ui.mouse.version)},stop:function(){},drag:function(e,t){console.log(" drag eve "+t.position.left)},revert:"invalid"}),t("#drag_img_tp_"+e).mousedown(function(e){var l=e.currentTarget.getAttribute("id"),o=l.lastIndexOf("_"),n=l.substring(parseInt(o)+1);t("#drag_img_tp_"+n+"_dup").draggable(),console.log("check final Object ****************************************** 1"),console.log(t(window).scrollTop()),p(e)})}();var f;!function(e){if(!e){var l=t("[id^="+o+"_H_]"),n=t("[id^="+o+"_LO_]"),i=t("[id^="+o+"_FBTXT_]"),r=t("[id^="+o+"_TXT_]");l.each(function(e,t){var l=t.getAttribute("id");v(l)}),n.each(function(e,t){var l=t.getAttribute("id");v(l)}),i.each(function(e,t){var l=t.getAttribute("id");v(l)}),r.each(function(e,t){var l=t.getAttribute("id");v(l)})}}(),function(){var e=t("body").attr("class");if(0===l.length||""===e)throw new Error("Error Extracting Samp Code");for(var o=0;o<l.length;o++)if(-1!=e.indexOf(""+l[o]))return l[o]}(),"D"===n[0]&&t("[id^="+o+"_RO]").each(function(e,t){t.getAttribute("id")}),f=t("[id$=SOR]"),console.log(f.length),f.each(function(e,l){console.log("hi"),console.log(l);var o=l.getAttribute("id");t("#"+o).sortable(),t("#"+o).disableSelection()})},t.SimpleWebSiteGenerator()}(0,jQuery);
