/* 
 *
 * Copyright (C) Joffer Systems, Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Alok Dethe <det.alex0110@gmail.com>, September 2019
 *
 *
 *
 */
!function(e,t){"use strict";if(!t)throw new Error("jQuery not loaded");let l=["S1"],o="S1",n=["D"];let i=!0,r="",a="",s=!1,c=!0,g="",d="",u="",p="",f=t("#handlerSelId"),m=t("#leftHandlerSelId"),_=function(e){let l=e.lastIndexOf("_");"_PID"!==e.substring(l)&&"_DEL"!==e.substring(l)&&(t("#"+e).resizable({start:function(e,t){}}),t("#"+e).draggable({containment:".parent_"+e,scroll:!1,start:function(e,l){var o=e.target;console.log("======");var n=t(o).position();t(o).css("margin-top","0"),t(o).css("margin-left","0"),t(o).css("margin-right","0"),console.log(" 1 "+n.top+" 2 "+n.left+" 3 "+n.right)},stop:function(e,l){var o=e.target;console.log("======");var n=t(o).position();t(o).css("margin-top","0"),t(o).css("margin-left","0"),t(o).css("margin-right","0"),console.log(" 1 - "+n.top+" 2 - "+n.left+" 3 "+n.right)}}))},h=function(e){var l=I(e);"H"===l?_(e):"LB"===l?_(e):"TXT"===l?_(e):"FBTXT"===l?_(e):"LO"===l&&_(e),t("#"+e).removeClass("ui-widget-content")},b=function(e){let l="doc_"+e.target.id+".html";t.get("http://127.0.0.1/"+l,function(e,l){g=e,"success"===l?(console.log(JSON.stringify(g)),t("#mainContainerId").append(g)):alert("Request To Server Failed")})};t.setCurrentDialogId=function(e){var l=e.getAttribute("id"),o=t.removeDialogFromId(l);d=o},t.setDeleteDialogId=function(e){var l=e.getAttribute("id"),o=t.removeDialogFromId(l);u=o},t.assignFontColor=function(e){var l="#"+e.toString();console.log(d),t("#"+d).css("color",""+l)},t.removeDialogFromId=function(e){var t=e.indexOf("_");return e=e.substring(t+1),console.log(" ====> "+e),e},t.assignBackHeightMax=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),s=r.substring(0,a);s=parseInt(s),s+=2,i.css("height",s+"px")},t.assignBackHeightMin=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),s=r.substring(0,a);s=parseInt(s),s-=2,i.css("height",s+"px")},t.assignBackWidthMax=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("max-width"),a=r.indexOf("%"),s=r.substring(0,a);s=parseInt(s),(s+=2)<=100&&i.css("max-width",s+"%")},t.assignDeleteFunc=function(e,l){let o="";"img"===l?o=e.parentElement:"txt"===l&&(o=e.parentElement.parentElement.parentElement);let n=o.getAttribute("id");t("#"+n).dialog("close");let i=n.substr(n.indexOf("_")+1);t("#"+i).remove()},t.assignBackWidthMin=function(e){let l=e.parentElement.parentElement.parentElement.getAttribute("id"),o=l.indexOf("_"),n=l.substring(o+1),i=t("#"+n).parent(),r=i.css("max-width");console.log(" ==> 2 "+r);let a=r.indexOf("%"),s=r.substring(0,a);s=parseInt(s),s-=2,i.css("max-width",s+"%")},t.setTextDescription=function(e){let l=e.parentElement.parentElement.getAttribute("id");console.log("eleId "+l);let o=t(e).val(),n=t.removeDialogFromId(l);console.log("===> change text "+n+" "+o),t("#"+n+"_PID").empty(),t("#"+n+"_PID").append(""+o)};let v=function(e){console.log("=============="),console.log(e);var l=t("#"+e).css("left"),o=t("#"+e).css("width");l=l.substring(0,l.length-2),o=o.substring(0,o.length-2);parseInt(l),parseInt(o);t("#dialog_"+e).dialog({position:{my:"left top",at:"right",of:"#"+e},close:function(l,o){console.log("before close function!"+l.target.getAttribute("id")+" "+e),l.target.setAttribute("id",""),t(l.target).css("display","none"),h(e)}})};function I(e){return e=(e=e.substr(e.indexOf("_"))).substring(1),console.log("finally inside getCode ===> "+e),e.substring(0,e.indexOf("_"))}t.registerCustomizationBox=function(e){let t=I(e);console.log("codeHold "+t),"H"===t?v(e):"LO"===t?v(e):"TXT"===t?v(e):"FBTXT"===t?v(e):"RO"===t?(alert(" Few More Change's "),v(e)):"DEL"===t&&v(e)},t.getSamp=function(e,t){"sam0"===t?(alert("get Blank"),window.location.replace("blank.html")):"sam1"===t?(alert("get Template#1"),window.location.replace("Generator.html")):"sam2"===t?(alert("get Template#2"),window.location.replace("Template2.html")):"sam3"===t&&(alert("get Template#3"),window.location.replace("Template3.html"))},t.setDialog=function(e,l){console.log("this ele "+e),console.log(" reponse box ==> "+JSON.stringify(l)+" "+e+" "),t(e).click(function(o){if(o.stopPropagation(),"txt"===l){let l=t(".dialog_text");if(""===l.attr("id")){let o=t(e).attr("id");console.log("ele id => "+o);let n="dialog_"+o;l.attr("id",""+n),console.log("ele dia id => "+n),p=n,t.registerCustomizationBox(o),l.css("display","")}}else if("img"===l){let l=t(".dialog_image");if(""===l.attr("id")){let o=t(e).attr("id"),n="dialog_"+o;l.attr("id",""+n),p=n,t.registerCustomizationBox(o),l.css("display","")}}else if("del"===l){let l=t(".dialog_delete");if(""===l.attr("id")){let o=t(e).attr("id");alert(" =====> "+o);let n="dialog_"+o;l.attr("id",""+n),p=n,t.registerCustomizationBox(o),l.css("display","")}}})},t.SimpleWebSiteGenerator=function(){f.click(function(){i?(t("#drag_img_tp_1_dup").attr("style","display: block"),t("#drag_img_tp_2_dup").attr("style","display: block"),t("#panelSelId").animate({width:"40%"}),t("#innerPanelSelId").animate({width:"82%"}),i=!1):i||(t("#drag_img_tp_1_dup").attr("style","display: none"),t("#drag_img_tp_2_dup").attr("style","display: none"),t("#panelSelId").animate({width:"5%"}),t("#innerPanelSelId").animate({width:"1%"}),i=!0)}),m.click(function(){c?(t("#leftColorPanelSelId").animate({width:"25%"}),t("#leftInnerColorPanelSelId").animate({width:"82%"}),c=!1):c||(t("#leftColorPanelSelId").animate({width:"5%"}),t("#leftInnerColorPanelSelId").animate({width:"1%"}),c=!0)}),function(){for(var e=0;0!==t("#sampText"+(e+=1)).length;)t("#sampText"+e).click(b)}(),t("#header-id").draggable({helper:"clone",cursorAt:{top:4,left:10},containment:"#big-cont",scroll:!1,start:function(){defaults.recentElement=t(this).attr("id")},stop:function(){},revert:"invalid"});let e=function(e){return e.search(/\bcol-lg-1\b/)>=0?"col-lg-1":e.search(/\bcol-lg-2\b/)>=0?"col-lg-2":e.search(/\bcol-lg-3\b/)>=0?"col-lg-3":e.search(/\bcol-lg-4\b/)>=0?"col-lg-4":e.search(/\bcol-lg-5\b/)>=0?"col-lg-5":e.search(/\bcol-lg-6\b/)>=0?"col-lg-6":e.search(/\bcol-lg-7\b/)>=0?"col-lg-7":e.search(/\bcol-lg-8\b/)>=0?"col-lg-8":e.search(/\bcol-lg-9\b/)>=0?"col-lg-9":e.search(/\bcol-lg-10\b/)>=0?"col-lg-10":e.search(/\bcol-lg-11\b/)>=0?"col-lg-11":e.search(/\bcol-lg-12\b/)>=0?"col-lg-12":void 0};t("#drag_img_tp_1").dblclick(function(){console.log("Handler for .dblclick() called."),s=!0}),t("#drag_img_tp_2").dblclick(function(){console.log("Handler for .dblclick() called."),s=!0});t(".dropElem").droppable({accept:"#drag_img_tp_1_dup, #drag_img_tp_2_dup",drop:function(l,o){var n=t("#").children().get(0),i=t(""+r).html();if(console.log("******** Droppable elem space ******** "+i),console.log(""),t("#").children().length<12){var a=n.getAttribute("class");console.log("check the clazz ===> "+a+" "+e(a));var c=e(a),g=c.lastIndexOf("-");console.log("******** Calculate layout ********"),console.log(g);var d=c.substring(parseInt(g)+1);if(c=c.substring(0,parseInt(g)),console.log("****** calculated lay ******"),console.log(c),console.log("****** calculated num ****** 1"),console.log(d),12%parseInt(d)==0){console.log("****** calculated num even ****** ");var u=function(e){var t=parseInt(e)-1;if(0===t)return e;for(var l=0,o=t;o>=1;o--)if(12%o==0){l=o;break}return l}(parseInt(d)),p=t("#").children();if((p.length+1)*u!=12){var f=u;for(console.log("********* check here fin ********** 1"),console.log(u+" "+p.length+" "+f);(p.length+1)*f<12;)f+=1;console.log("********* check here fin ********** 3"),console.log(u+" "+p.length+" "+f),(p.length+1)*f==12&&(u=f),console.log("********* check here fin ********** 2"),console.log(u)}console.log(p),s=!1,r="",t("#").append(i),p=t("#").children();for(var m=0,_=0;_<p.length;_++){for(var h=p.get(_),b=1;b<=12;b++)t(h).removeClass("col-lg-"+b);t(h).addClass("col-lg-"+u),m+=u}if(console.log("******* below complete *******"),console.log(m),m<12){var v=12-(m-1);for(h=p.get(p.length-1),b=1;b<=12;b++)t(h).removeClass("col-lg-"+b);t(h).addClass("col-lg-"+v)}}}console.log("Elem Droppable")}});let g=function(e){var l=e.currentTarget.getAttribute("id"),o=l.lastIndexOf("_"),n=l.substring(parseInt(o)+1);console.log("************ eve ************** 1"),console.log("==>"+n+" ==> 1"+l),e.type="mousedown.draggable";var i=e.pageX,s=e.pageY;e.target=document.getElementById("drag_img_tp_"+n+"_dup");var c=document.getElementById("drag_img_tp_1_dup");console.log("==222 drag_img_tp_"+n),console.log(c),console.log("************ eve **************"),console.log("==>"+n+" ==> "+l+" x "+i+" y "+s),r="#drag_img_tp_"+n+"_dup","1"===n?a="img":"2"===n&&(a="txt"),t("#drag_img_tp_"+n).focus(),t("#drag_img_tp_"+n+"_dup").trigger(e)};t.assignMOver();!function(){for(var e=1;e<=2;e++)alert(" => "+e),t("#drag_img_tp_"+e).mouseup(function(e){}),t("#drag_img_tp_"+e+"_dup").draggable({helper:"clone",cursorAt:{top:1,left:1},containment:"#mainContainerId",scroll:!0,start:function(){console.log("reached here at start "+t(this).attr("id")),console.log(t.ui.mouse.version)},stop:function(){},drag:function(e,t){console.log(" drag eve "+t.position.left)},revert:"invalid"}),t("#drag_img_tp_"+e).mousedown(function(e){var l=e.currentTarget.getAttribute("id"),o=l.lastIndexOf("_"),n=l.substring(parseInt(o)+1);t("#drag_img_tp_"+n+"_dup").draggable(),console.log("check final Object ****************************************** 1"),console.log(t(window).scrollTop()),g(e)})}();var d;!function(e){if(!e){var l=t("[id^="+o+"_H_]"),n=t("[id^="+o+"_LO_]"),i=t("[id^="+o+"_FBTXT_]"),r=t("[id^="+o+"_TXT_]");l.each(function(e,t){var l=t.getAttribute("id");h(l)}),n.each(function(e,t){var l=t.getAttribute("id");h(l)}),i.each(function(e,t){var l=t.getAttribute("id");h(l)}),r.each(function(e,t){var l=t.getAttribute("id");h(l)})}}(),function(){var e=t("body").attr("class");if(0===l.length||""===e)throw new Error("Error Extracting Samp Code");for(var o=0;o<l.length;o++)if(-1!=e.indexOf(""+l[o]))return l[o]}(),"D"===n[0]&&t("[id^="+o+"_RO]").each(function(e,t){t.getAttribute("id")}),d=t("[id$=SOR]"),console.log(d.length),d.each(function(e,l){console.log("hi"),console.log(l);var o=l.getAttribute("id");t("#"+o).sortable(),t("#"+o).disableSelection()})},t.SimpleWebSiteGenerator()}(0,jQuery);
