/* 
 *
 * Copyright (C) Joffer Systems, Inc - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 * Written by Alok Dethe <det.alex0110@gmail.com>, September 2019
 *
 *
 *
 */
!function(e,t){"use strict";if(!t)throw new Error("jQuery not loaded");let o=["S1"],l="S1",n=["D"];let i=!0,r="",a="",c="",s="",g=!1,d=!0,u="",p="",f="",_=t("#handlerSelId"),m=t("#leftHandlerSelId"),h=function(e){let o=e.lastIndexOf("_");"_PID"!==e.substring(o)&&"_DEL"!==e.substring(o)&&(t("#"+e).resizable({start:function(e,t){}}),t("#"+e).draggable({containment:".parent_"+e,scroll:!1,start:function(e,o){var l=e.target;console.log("======");var n=t(l).position();t(l).css("margin-top","0"),t(l).css("margin-left","0"),t(l).css("margin-right","0"),console.log(" 1 "+n.top+" 2 "+n.left+" 3 "+n.right)},stop:function(e,o){var l=e.target;console.log("======");var n=t(l).position();t(l).css("margin-top","0"),t(l).css("margin-left","0"),t(l).css("margin-right","0"),console.log(" 1 - "+n.top+" 2 - "+n.left+" 3 "+n.right)}}))},b=function(e){var o=x(e);"H"===o?h(e):"LB"===o?h(e):"TXT"===o?h(e):"FBTXT"===o?h(e):"LO"===o&&h(e),t("#"+e).removeClass("ui-widget-content")},v=function(e){let o="doc_"+e.target.id+".html";t.get("http://127.0.0.1/"+o,function(e,o){u=e,"success"===o?(console.log(JSON.stringify(u)),t("#mainContainerId").append(u)):alert("Request To Server Failed")})};t.setCurrentDialogId=function(e){var o=e.getAttribute("id"),l=t.removeDialogFromId(o);p=l},t.setDeleteDialogId=function(e){var o=e.getAttribute("id"),l=t.removeDialogFromId(o);f=l},t.assignFontColor=function(e){var o="#"+e.toString();console.log(p),t("#"+p).css("color",""+o)},t.removeDialogFromId=function(e){var t=e.indexOf("_");return e=e.substring(t+1),console.log(" ====> "+e),e},t.assignBackHeightMax=function(e){let o=e.parentElement.parentElement.parentElement.getAttribute("id"),l=o.indexOf("_"),n=o.substring(l+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),c=r.substring(0,a);c=parseInt(c),c+=2,i.css("height",c+"px")},t.assignBackHeightMin=function(e){let o=e.parentElement.parentElement.parentElement.getAttribute("id"),l=o.indexOf("_"),n=o.substring(l+1),i=t("#"+n).parent(),r=i.css("height"),a=r.indexOf("p"),c=r.substring(0,a);c=parseInt(c),c-=2,i.css("height",c+"px")},t.assignBackWidthMax=function(e){let o=e.parentElement.parentElement.parentElement.getAttribute("id"),l=o.indexOf("_"),n=o.substring(l+1),i=t("#"+n).parent(),r=i.css("max-width"),a=r.indexOf("%"),c=r.substring(0,a);c=parseInt(c),(c+=2)<=100&&i.css("max-width",c+"%")},t.assignBackWidthMin=function(e){let o=e.parentElement.parentElement.parentElement.getAttribute("id"),l=o.indexOf("_"),n=o.substring(l+1),i=t("#"+n).parent(),r=i.css("max-width");console.log(" ==> 2 "+r);let a=r.indexOf("%"),c=r.substring(0,a);c=parseInt(c),c-=2,i.css("max-width",c+"%")},t.setTextDescription=function(e){let o=e.parentElement.parentElement.getAttribute("id");console.log("eleId "+o);let l=t(e).val(),n=t.removeDialogFromId(o);console.log("===> change text "+n+" "+l),t("#"+n+"_PID").empty(),t("#"+n+"_PID").append(""+l)};let I=function(e){console.log("=============="),console.log(e);var o=t("#"+e).css("left"),l=t("#"+e).css("width");o=o.substring(0,o.length-2),l=l.substring(0,l.length-2);parseInt(o),parseInt(l);t("#dialog_"+e).dialog({position:{my:"left top",at:"right",of:"#"+e},close:function(o,l){console.log("before close function!"+o.target.getAttribute("id")+" "+e),o.target.setAttribute("id",""),t(o.target).css("display","none"),b(e)}})};function x(e){return e=(e=e.substr(e.indexOf("_"))).substring(1),console.log("finally inside getCode ===> "+e),e.substring(0,e.indexOf("_"))}t.registerCustomizationBox=function(e){let t=x(e);console.log("codeHold "+t),"H"===t?I(e):"LO"===t?I(e):"TXT"===t?I(e):"FBTXT"===t?I(e):"RO"===t?(alert(" Few More Change's "),I(e)):"DEL"===t&&I(e)},t.getSamp=function(e,t){"sam0"===t?(alert("get Blank"),window.location.replace("blank.html")):"sam1"===t?(alert("get Template#1"),window.location.replace("Generator.html")):"sam2"===t?(alert("get Template#2"),window.location.replace("Template2.html")):"sam3"===t&&(alert("get Template#3"),window.location.replace("Template3.html"))},t.setDialog=function(e,o){console.log("this ele "+e),console.log(" reponse box ==> "+JSON.stringify(o)+" "+e+" "),t(e).click(function(l){if(l.stopPropagation(),"txt"===o){let o=t(".dialog_text");if(""===o.attr("id")){let l=t(e).attr("id");console.log("ele id => "+l);let n="dialog_"+l;o.attr("id",""+n),console.log("ele dia id => "+n),t.registerCustomizationBox(l),o.css("display","")}}else if("img"===o){let o=t(".dialog_image");if(""===o.attr("id")){let l=t(e).attr("id"),n="dialog_"+l;o.attr("id",""+n),t.registerCustomizationBox(l),o.css("display","")}}else if("del"===o){let o=t(".dialog_delete");if(""===o.attr("id")){let l=t(e).attr("id");alert(" =====> "+l);let n="dialog_"+l;o.attr("id",""+n),t.registerCustomizationBox(l),o.css("display","")}}})},t.SimpleWebSiteGenerator=function(){_.click(function(){i?(t("#drag_img_tp_1_dup").attr("style","display: block"),t("#drag_img_tp_2_dup").attr("style","display: block"),t("#panelSelId").animate({width:"40%"}),t("#innerPanelSelId").animate({width:"82%"}),i=!1):i||(t("#drag_img_tp_1_dup").attr("style","display: none"),t("#drag_img_tp_2_dup").attr("style","display: none"),t("#panelSelId").animate({width:"5%"}),t("#innerPanelSelId").animate({width:"1%"}),i=!0)}),m.click(function(){d?(t("#leftColorPanelSelId").animate({width:"25%"}),t("#leftInnerColorPanelSelId").animate({width:"82%"}),d=!1):d||(t("#leftColorPanelSelId").animate({width:"5%"}),t("#leftInnerColorPanelSelId").animate({width:"1%"}),d=!0)}),function(){for(var e=0;0!==t("#sampText"+(e+=1)).length;)t("#sampText"+e).click(v)}(),t("#header-id").draggable({helper:"clone",cursorAt:{top:4,left:10},containment:"#big-cont",scroll:!1,start:function(){defaults.recentElement=t(this).attr("id")},stop:function(){},revert:"invalid"});let e=function(e){return e.search(/\bcol-lg-1\b/)>=0?"col-lg-1":e.search(/\bcol-lg-2\b/)>=0?"col-lg-2":e.search(/\bcol-lg-3\b/)>=0?"col-lg-3":e.search(/\bcol-lg-4\b/)>=0?"col-lg-4":e.search(/\bcol-lg-5\b/)>=0?"col-lg-5":e.search(/\bcol-lg-6\b/)>=0?"col-lg-6":e.search(/\bcol-lg-7\b/)>=0?"col-lg-7":e.search(/\bcol-lg-8\b/)>=0?"col-lg-8":e.search(/\bcol-lg-9\b/)>=0?"col-lg-9":e.search(/\bcol-lg-10\b/)>=0?"col-lg-10":e.search(/\bcol-lg-11\b/)>=0?"col-lg-11":e.search(/\bcol-lg-12\b/)>=0?"col-lg-12":void 0};t("#drag_img_tp_1").dblclick(function(){console.log("Handler for .dblclick() called."),g=!0}),t("#drag_img_tp_2").dblclick(function(){console.log("Handler for .dblclick() called."),g=!0});let u=function(e){var o="";"LO"===e?o=t("[id^="+l+"_"+e+"_]"):"TXT"===e&&(o=t("[id^="+l+"_"+e+"_]")),console.log(" ***** check calculateRecentIdForImage ***** "+l+"_"+e),console.log(o);var n,i,r=0,a=0,c="",s="";return t.each(o,function(e,o){if(c=t(o).attr("id"),"PID"!==(s=c.substr(c.length-3)))for(console.log("**** check PID ****"),console.log(s),n=c.lastIndexOf("_"),n-=1;"_"!==c.charAt(n);)r=parseInt(c.charAt(n)),a<r&&(a=r),n-=1,console.log("**** check cnt set ****"),console.log(a)}),i=l+"_"+e+"_"+(a+1)+"_ID",console.log(i),i};t(".dropElem").droppable({accept:"#drag_img_tp_1_dup, #drag_img_tp_2_dup",drop:function(o,l){var n=t("#"+r).children().get(0),i=t(""+c).html();if(console.log("******** Droppable elem space ******** "+i),console.log(r),t("#"+r).children().length<12){var d=n.getAttribute("class");console.log("check the clazz ===> "+d+" "+e(d));var p=e(d),f=p.lastIndexOf("-");console.log("******** Calculate layout ********"),console.log(f);var _=p.substring(parseInt(f)+1);if(p=p.substring(0,parseInt(f)),console.log("****** calculated lay ******"),console.log(p),console.log("****** calculated num ****** 1"),console.log(_),12%parseInt(_)==0){console.log("****** calculated num even ****** ");var m=function(e){var t=parseInt(e)-1;if(0===t)return e;for(var o=0,l=t;l>=1;l--)if(12%l==0){o=l;break}return o}(parseInt(_)),b=t("#"+r).children();if((b.length+1)*m!=12){var v=m;for(console.log("********* check here fin ********** 1"),console.log(m+" "+b.length+" "+v);(b.length+1)*v<12;)v+=1;console.log("********* check here fin ********** 3"),console.log(m+" "+b.length+" "+v),(b.length+1)*v==12&&(m=v),console.log("********* check here fin ********** 2"),console.log(m)}if(console.log(b),!0===g&&""!==a&&"img"===s){g=!1,c="";var I=t.parseHTML(i),x=u("LO");t(I).attr("class","TEMP_BOX COL_DRAG"),t(I).attr("id",""+x),t(I).attr("onclick","$.setDialog(this, 'img')"),i=I,t("#"+a).append(i),h(x)}else if(!0===g&&""!==a&&"txt"===s){g=!1,c="",I=t.parseHTML(i);var O=u("TXT");t(I).attr("class","TEMP_BOX COL_DRAG"),t(I).attr("id",""+O),t(I).children().get(0).setAttribute("id",O+"_PID"),t(I).attr("onclick","$.setDialog(this, 'txt')"),i=I,t("#"+a).append(i),h(O)}else{g=!1,c="",t("#"+r).append(i),b=t("#"+r).children();for(var A=0,C=0;C<b.length;C++){for(var T=b.get(C),w=1;w<=12;w++)t(T).removeClass("col-lg-"+w);t(T).addClass("col-lg-"+m),A+=m}if(console.log("******* below complete *******"),console.log(A),A<12){var D=12-(A-1);for(T=b.get(b.length-1),w=1;w<=12;w++)t(T).removeClass("col-lg-"+w);t(T).addClass("col-lg-"+D)}}}}console.log("Elem Droppable")}});let p=function(e){var o=e.currentTarget.getAttribute("id"),l=o.lastIndexOf("_"),n=o.substring(parseInt(l)+1);console.log("************ eve ************** 1"),console.log("==>"+n+" ==> 1"+o),e.type="mousedown.draggable";var i=e.pageX,r=e.pageY;e.target=document.getElementById("drag_img_tp_"+n+"_dup");var a=document.getElementById("drag_img_tp_1_dup");console.log("==222 drag_img_tp_"+n),console.log(a),console.log("************ eve **************"),console.log("==>"+n+" ==> "+o+" x "+i+" y "+r),c="#drag_img_tp_"+n+"_dup","1"===n?s="img":"2"===n&&(s="txt"),t("#drag_img_tp_"+n).focus(),t("#drag_img_tp_"+n+"_dup").trigger(e)};!function(){for(var e=1;0!=t(".mover_"+e).length;)t(".mover_"+e).mouseover(function(e){var o=e.currentTarget.getAttribute("id");r=o,console.log("******** this is the elem that is calculated ******** "+o),console.log("executed mover"),t("#"+o).children(".COL_DRAG").each(function(e,o){t(o).removeClass("COL_DRAG"),t(o).addClass("COL_DRAG_R"),a=t(o).attr("id"),console.log("**** finalChildElem ****"),console.log(a)})}),t(".mover_"+e).mouseout(function(e){var o=e.currentTarget.getAttribute("id"),l=t("#"+o).children(".COL_DRAG_R");console.log("executed mout"),t("#drag_img_tp_1").removeAttr("tabindex"),l.each(function(e,o){t(o).removeClass("COL_DRAG_R"),t(o).addClass("COL_DRAG")})}),e++}();!function(){for(var e=1;e<=2;e++)alert(" => "+e),t("#drag_img_tp_"+e).mouseup(function(e){}),t("#drag_img_tp_"+e+"_dup").draggable({helper:"clone",cursorAt:{top:1,left:1},containment:"#mainContainerId",scroll:!0,start:function(){console.log("reached here at start "+t(this).attr("id")),console.log(t.ui.mouse.version)},stop:function(){},drag:function(e,t){console.log(" drag eve "+t.position.left)},revert:"invalid"}),t("#drag_img_tp_"+e).mousedown(function(e){var o=e.currentTarget.getAttribute("id"),l=o.lastIndexOf("_"),n=o.substring(parseInt(l)+1);t("#drag_img_tp_"+n+"_dup").draggable(),console.log("check final Object ****************************************** 1"),console.log(t(window).scrollTop()),p(e)})}();var f;!function(e){if(!e){var o=t("[id^="+l+"_H_]"),n=t("[id^="+l+"_LO_]"),i=t("[id^="+l+"_FBTXT_]"),r=t("[id^="+l+"_TXT_]");o.each(function(e,t){var o=t.getAttribute("id");b(o)}),n.each(function(e,t){var o=t.getAttribute("id");b(o)}),i.each(function(e,t){var o=t.getAttribute("id");b(o)}),r.each(function(e,t){var o=t.getAttribute("id");b(o)})}}(),function(){var e=t("body").attr("class");if(0===o.length||""===e)throw new Error("Error Extracting Samp Code");for(var l=0;l<o.length;l++)if(-1!=e.indexOf(""+o[l]))return o[l]}(),"D"===n[0]&&t("[id^="+l+"_RO]").each(function(e,t){t.getAttribute("id")}),f=t("[id$=SOR]"),console.log(f.length),f.each(function(e,o){console.log("hi"),console.log(o);var l=o.getAttribute("id");t("#"+l).sortable(),t("#"+l).disableSelection()})},t.SimpleWebSiteGenerator()}(0,jQuery);
